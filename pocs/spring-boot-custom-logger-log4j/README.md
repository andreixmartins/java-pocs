### Build
```bash
./mvnw clean install
```
### Results
100% working !!!

Application log
```
/home/diego/.sdkman/candidates/java/21-amzn/bin/java -javaagent:/home/diego/.local/share/JetBrains/Toolbox/apps/intellij-idea-community-edition/lib/idea_rt.jar=37273:/home/diego/.local/share/JetBrains/Toolbox/apps/intellij-idea-community-edition/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /home/diego/git/diegopacheco/java-pocs/pocs/spring-boot-custom-logger-log4j/target/classes:/home/diego/.m2/repository/org/springframework/boot/spring-boot-starter-log4j2/3.3.1/spring-boot-starter-log4j2-3.3.1.jar:/home/diego/.m2/repository/org/apache/logging/log4j/log4j-slf4j2-impl/2.23.1/log4j-slf4j2-impl-2.23.1.jar:/home/diego/.m2/repository/org/apache/logging/log4j/log4j-api/2.23.1/log4j-api-2.23.1.jar:/home/diego/.m2/repository/org/slf4j/slf4j-api/2.0.13/slf4j-api-2.0.13.jar:/home/diego/.m2/repository/org/apache/logging/log4j/log4j-core/2.23.1/log4j-core-2.23.1.jar:/home/diego/.m2/repository/org/apache/logging/log4j/log4j-jul/2.23.1/log4j-jul-2.23.1.jar:/home/diego/.m2/repository/org/springframework/boot/spring-boot-starter-webflux/3.3.1/spring-boot-starter-webflux-3.3.1.jar:/home/diego/.m2/repository/org/springframework/boot/spring-boot-starter/3.3.1/spring-boot-starter-3.3.1.jar:/home/diego/.m2/repository/org/springframework/boot/spring-boot/3.3.1/spring-boot-3.3.1.jar:/home/diego/.m2/repository/org/springframework/spring-context/6.1.10/spring-context-6.1.10.jar:/home/diego/.m2/repository/org/springframework/spring-aop/6.1.10/spring-aop-6.1.10.jar:/home/diego/.m2/repository/org/springframework/spring-expression/6.1.10/spring-expression-6.1.10.jar:/home/diego/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.3.1/spring-boot-autoconfigure-3.3.1.jar:/home/diego/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/home/diego/.m2/repository/org/yaml/snakeyaml/2.2/snakeyaml-2.2.jar:/home/diego/.m2/repository/org/springframework/boot/spring-boot-starter-json/3.3.1/spring-boot-starter-json-3.3.1.jar:/home/diego/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.17.1/jackson-databind-2.17.1.jar:/home/diego/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.17.1/jackson-annotations-2.17.1.jar:/home/diego/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.17.1/jackson-core-2.17.1.jar:/home/diego/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.17.1/jackson-datatype-jdk8-2.17.1.jar:/home/diego/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.17.1/jackson-datatype-jsr310-2.17.1.jar:/home/diego/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.17.1/jackson-module-parameter-names-2.17.1.jar:/home/diego/.m2/repository/org/springframework/boot/spring-boot-starter-reactor-netty/3.3.1/spring-boot-starter-reactor-netty-3.3.1.jar:/home/diego/.m2/repository/io/projectreactor/netty/reactor-netty-http/1.1.20/reactor-netty-http-1.1.20.jar:/home/diego/.m2/repository/io/netty/netty-codec-http/4.1.111.Final/netty-codec-http-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-common/4.1.111.Final/netty-common-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-buffer/4.1.111.Final/netty-buffer-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-transport/4.1.111.Final/netty-transport-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-codec/4.1.111.Final/netty-codec-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-handler/4.1.111.Final/netty-handler-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-codec-http2/4.1.111.Final/netty-codec-http2-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-resolver-dns/4.1.111.Final/netty-resolver-dns-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-resolver/4.1.111.Final/netty-resolver-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-codec-dns/4.1.111.Final/netty-codec-dns-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-resolver-dns-native-macos/4.1.111.Final/netty-resolver-dns-native-macos-4.1.111.Final-osx-x86_64.jar:/home/diego/.m2/repository/io/netty/netty-resolver-dns-classes-macos/4.1.111.Final/netty-resolver-dns-classes-macos-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-transport-native-epoll/4.1.111.Final/netty-transport-native-epoll-4.1.111.Final-linux-x86_64.jar:/home/diego/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.111.Final/netty-transport-native-unix-common-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-transport-classes-epoll/4.1.111.Final/netty-transport-classes-epoll-4.1.111.Final.jar:/home/diego/.m2/repository/io/projectreactor/netty/reactor-netty-core/1.1.20/reactor-netty-core-1.1.20.jar:/home/diego/.m2/repository/io/netty/netty-handler-proxy/4.1.111.Final/netty-handler-proxy-4.1.111.Final.jar:/home/diego/.m2/repository/io/netty/netty-codec-socks/4.1.111.Final/netty-codec-socks-4.1.111.Final.jar:/home/diego/.m2/repository/org/springframework/spring-web/6.1.10/spring-web-6.1.10.jar:/home/diego/.m2/repository/org/springframework/spring-beans/6.1.10/spring-beans-6.1.10.jar:/home/diego/.m2/repository/org/springframework/spring-webflux/6.1.10/spring-webflux-6.1.10.jar:/home/diego/.m2/repository/io/projectreactor/reactor-core/3.6.7/reactor-core-3.6.7.jar:/home/diego/.m2/repository/org/reactivestreams/reactive-streams/1.0.4/reactive-streams-1.0.4.jar:/home/diego/.m2/repository/org/springframework/boot/spring-boot-starter-actuator/3.3.1/spring-boot-starter-actuator-3.3.1.jar:/home/diego/.m2/repository/org/springframework/boot/spring-boot-actuator-autoconfigure/3.3.1/spring-boot-actuator-autoconfigure-3.3.1.jar:/home/diego/.m2/repository/org/springframework/boot/spring-boot-actuator/3.3.1/spring-boot-actuator-3.3.1.jar:/home/diego/.m2/repository/io/micrometer/micrometer-observation/1.13.1/micrometer-observation-1.13.1.jar:/home/diego/.m2/repository/io/micrometer/micrometer-commons/1.13.1/micrometer-commons-1.13.1.jar:/home/diego/.m2/repository/io/micrometer/micrometer-jakarta9/1.13.1/micrometer-jakarta9-1.13.1.jar:/home/diego/.m2/repository/io/micrometer/micrometer-core/1.13.1/micrometer-core-1.13.1.jar:/home/diego/.m2/repository/org/hdrhistogram/HdrHistogram/2.2.2/HdrHistogram-2.2.2.jar:/home/diego/.m2/repository/org/latencyutils/LatencyUtils/2.0.3/LatencyUtils-2.0.3.jar:/home/diego/.m2/repository/org/springframework/spring-core/6.1.10/spring-core-6.1.10.jar:/home/diego/.m2/repository/org/springframework/spring-jcl/6.1.10/spring-jcl-6.1.10.jar com.github.diegopacheco.sandboxspring.Application

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.3.1)

2024-07-11 00:41:54 [main] INFO  com.github.diegopacheco.sandboxspring.Application - Starting Application using Java 21 with PID 2509324 (/mnt/e35d88d4-42b9-49ea-bf29-c4c3b018d429/diego/git/diegopacheco/java-pocs/pocs/spring-boot-custom-logger-log4j/target/classes started by diego in /mnt/e35d88d4-42b9-49ea-bf29-c4c3b018d429/diego/git/diegopacheco/java-pocs/pocs/spring-boot-custom-logger-log4j)
2024-07-11 00:41:54 [main] INFO  com.github.diegopacheco.sandboxspring.Application - No active profile set, falling back to 1 default profile: "default"
2024-07-11 00:41:56 [main] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2024-07-11 00:41:56 [main] DEBUG org.springframework.web.server.adapter.HttpWebHandlerAdapter - enableLoggingRequestDetails='true': form data and headers will be shown which may lead to unsafe logging of potentially sensitive data
2024-07-11 00:41:56 [main] INFO  org.springframework.boot.web.embedded.netty.NettyWebServer - Netty started on port 8080 (http)
2024-07-11 00:41:56 [main] INFO  com.github.diegopacheco.sandboxspring.Application - Started Application in 2.361 seconds (process running for 3.146)
Spring Boot 3.3.x working! 
2024-07-11 00:42:02 [reactor-http-epoll-2] DEBUG org.springframework.web.server.adapter.HttpWebHandlerAdapter - [632aeba9-1] HTTP GET "/actuator/health"
2024-07-11 00:42:02 [boundedElastic-1] DEBUG org.springframework.web.server.adapter.HttpWebHandlerAdapter - [632aeba9-1] Completed 200 OK
```

curl + access log
```
‚ùØ ./test.sh && cat logs/access_log.log
{"status":"UP"}2024-07-11 00:42:02 [reactor-http-epoll-2] INFO  reactor.netty.http.server.AccessLog - method=GET, uri=/actuator/health myheader=100 x-forwarded-for=10.99.0.100 
```